<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/images/icons/icon-152x152.png" />
    <!-- theme-color defines the top bar color-->
    <meta name="theme-color" content="#575757" />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'report-sample' 'self' https://app.posthog.com/static/array.js https://www.googletagmanager.com/gtag/js; style-src 'report-sample' 'self' https://fonts.googleapis.com; object-src 'none'; base-uri 'self'; connect-src 'self' https://app.posthog.com; font-src 'self'; frame-src 'self'; img-src 'self'; manifest-src 'self'; media-src 'self'; report-uri https://pauldambra.report-uri.com/r/d/csp/enforce; worker-src 'self';"
    />
    <!-- Add to home screen for Safari on iOS-->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="MiRaNo" />
    <link rel="apple-touch-icon" href="/images/icons/icon-152x152.png" />

    <!-- Add to home screen for Windows-->
    <meta
      name="msapplication-TileImage"
      content="/images/icons/icon-152x152.png"
    />
    <meta name="msapplication-TileColor" content="#575757" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>SSH without password</title>
    <link rel="canonical" href="https://pauldambra.dev/2011/04/ssh-without-password.html" />
    <meta property="og:url" content="https://pauldambra.dev/2011/04/ssh-without-password.html" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="SSH without password" />
    <meta
      property="og:description"
      content="a blog about software engineering"
    />
    <meta
      property="og:image"
      content="https://pauldambra.dev/images/cardboard.jpg"
    />
    <meta name="twitter:creator" content="@pauldambra" />
    <meta property="fb:app_id" content="1029758320473951" />

    <meta name="viewport" content="width=device-width" />
    <meta
      name="description"
      content="a blog about software engineering"
    />
    <meta property="fb:pages" content="1029758320473951" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Mindless Rambling Nonsense"
      href="https://pauldambra.dev/feed.xml"
    />
    <link rel="shortcut icon" href="/favicon.ico" />

    <link rel="prefetch" href="/images/cardboard.jpg" />

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <meta name="msvalidate.01" content="54691C3C7B863CEE60F0305D6EDFF7A8" />
    <meta
      name="google-site-verification"
      content="hLKEdujpXNQ9PSZWEcQkwxCgL2z1tWxVedeaUmttH7c"
    />
    <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group identify setPersonProperties setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags resetGroups onFeatureFlags addFeatureFlagsHandler onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_YwZdW7eDzRlzm3YiNvZpAR5oGhmc9nYeVwuUq5mef3b', {
        api_host: 'https://ph.pauldambra.dev',
        defaults: '2026-01-30'
    })
</script>

  </head>
  <body class="flex flex-col h-screen">
    <header class="flex flex-col px-8 pt-4 text-white text-xl" role="banner">
  <div class="flex flex-col sm:flex-row">
    <div class="no-underline hover:underline">
      <a href="/">Mindless Rambling Nonsense</a>
    </div>
    <div class="flex-grow my-2 sm:m-0"></div>
    <div class="flex justify-start items-end flex-col text-sm">
      <div class="flex items-center">
        <div class="mr-4">Paul D'Ambra</div>
        <a href="https://github.com/pauldambra" rel="noopener">
          <img
            src="/images/GitHub-Mark-Light-32px.png"
            alt="pauldambra on github"
            width="32"
            height="32"
          />
        </a>
      </div>
      <div class="flex items-center">
        <div class="mr-4">Fangler</div>
        <a href="https://twitter.com/pauldambra" rel="noopener">
          <img
            src="/images/twitter-32.png"
            alt="pauldambra on twitter"
            width="32"
            height="32"
          />
        </a>
      </div>
      <div class="flex items-center">
        <div class="mr-4"></div>
        <a rel="me" href="https://mastodon.me.uk/@pauldambra">
        </a>
      </div>
    </div>
  </div>
  <div class="flex-grow"></div>
  <div
    class="flex align-middle items-start px-2 py-4 text-white space-x-4 text-lg"
  >
    <nav role="navigation">
      <a class="underline" href="/">Blog Posts</a>
      <a class="underline ml-5" href="/weeknotes.html">Week Notes</a>
      <a class="underline ml-5" href="/kids-games.html">Kids games</a>
    </nav>
  </div>
</header>

    <main role="main" class="bg-white p-4 w-11/12 m-auto flex-auto flex-grow">
      

<script type="application/ld+json">
  {
     "@context":"http://schema.org",
     "@type":"BlogPosting",
     "headline":"SSH without password",
     "genre":"",
     "keywords":"",
     "wordCount":"676",
     "url":"https://pauldambra.dev/2011/04/ssh-without-password.html",
     "datePublished":"2011-04-11",
     "author":{
        "@type":"Person",
        "name":"Paul D'Ambra",
        "sameAs":[
          "https://twitter.com/pauldambra",
          "https://github.com/pauldambra",
          "https://plus.google.com/u/0/+PaulDAmbraPlus"
        ]
     },
     "publisher":{
  "@type": "Organization",
      "name": "Paul D'Ambra",
      "sameAs": [
          "https://twitter.com/pauldambra",
          "https://github.com/pauldambra",
          "https://plus.google.com/u/0/+PaulDAmbraPlus"
      ],
      "logo": {
        "@type": "ImageObject",
        "contentUrl": "https://pauldambra.dev/images/logo.png",
          "url": "https://pauldambra.dev"
      }
     },
     "image":{
        "@type":"ImageObject",
        "contentUrl":"https://pauldambra.dev/images/cardboard.jpg",
        "url":"https://pauldambra.dev",
        "height":"450",
        "width":"1000"
     },
     "mainEntityOfPage":{
        "@type":"WebPage",
        "@id":"https://pauldambra.dev/2011/04/ssh-without-password.html"
     },
     "articleBody":"\n\nI've  resolved  to  learn  more  about  linux  and  have  been  slowly  boggling  at  how  easy  I  find  some  tasks  are  in  comparison  to  the  MS  world…\n\nRecently  I've  been  working  on  what  was  intended  to  be  a  small  and  straight-forward  website  that  has  rapidly  grown  to  be  a  large  behemoth  that  will  take  credit  card  payments.\n\n\n\nSo  I  need  revision  control.\n\nAlso,  the  site  uses  Drupal  and  Drupal  use  GIT  for  revision  control.  We're  building  a  custom  module  and  we'd  like  to  contribute  it  back  once  it  is  done  so  we  may  as  well  use  GIT  now  to  make  life  easier.\n\nPretty  exciting  I  can  commit  my  changes  and  they  are  automatically  pushed  over  to  my  test  server  on  commit  and  then  if  I  like  them  I  can  push  them  to  my  live  server.  Both  pushes  are  by  SSH  and  both  times  I  have  to  type  in  a  different,  long,  complex  password.\n\nFrustrating  and  inefficient  for  a  god  of  business  whose  time  is  so  important  -  no…\n\nBut  the  interwebs  tell  me  that  you  can  set  up  SSH  so  you  don't  need  a  password.  They  also  tell  me  in  a  vaguely  confusing  manner…  my  resolve  now  is  to  add  another  vaguely  confusing  explanation  to  the  interwebs.\n\n\n\nThe  task  is  to  set  my  client.local  machine  to  be  able  to  SSH  onto  server.remote  without  any  passwords  changing  hands.\n\nThis  was  relatively  straight  forward  on  my  Mac  and  on  my  ubuntu  box  but  my  main  dev  machine  is  Windows  7…\n\nAs  an  aside  switching  from  Mac,  to  VMWare  fusion  Windows,  to  VMWare  fusion,  to  Windows  7  and  remoting  between  them  means  I  *never*  know  which  key  is  going  to  be  @  and  which  \"  and  the  windows  machines  get  reset  to  US  keyboard  every  so  often  by  the  Macs  which  throws  a  spanner  in  the  works.\n\nOn  a  linux  or  unix  machine  this  turned  out  to  be  pretty  straight  forward\n\n\n    Login  to  client.local\n    run  ssh-keygen  -t  rsa\n    alter  the  path  offered  to  rename  the  file  sensibly  in  my  case  ~/.ssh/rsa_server.remote\n    ssh-copy-id  -i  ~/.ssh/rsa_server.remote.pub  '-p  8901  dinglehopper@server.remote'\n        \n            here  note  that  I  had  to  surround  with  single  quotes  the  -p  etc  section  of  the  command  in  order  to  use  a  non  standard  port\n        \n    \n    \n        still  on  client.local  edit  ~/.ssh/config  to  add\n\n\n        \n            Host  server.remote\nIdentityFile  ~/.ssh/rsa_server.remote\n        \n    \n    type  ssh  dinglehopper@server.remote  -p  8901  and  watch  in  awe  and  wonder\n\nThings  aren't  quite  so  straightforward  on  Windows  but  the  basic  steps  remain.\n\n\nOn  Windows  I  use  the  excellent  PuTTy  to  enable  all  things  SSHy  and  I'm  going  to  behave  as  if  you  do  to…\n\nFirst  things  first  ssh  onto  server.remote  as  the  user  you  want  to  use  in  future  eg  dinglehopper@server.remote  and:\n\non  your  Windows  clinet.local  fire  up  puttygen.exe  and  hit  generate.  As  a  bit  of  fun  you  are  asked  to  wiggle  your  mouse  in  order  to  provide  randomness  (I  wonder  if  this  is  placebo)\n\n\n\nOnce  this  is  generated  you'll  see  a  box  marked  \"Public  key  for  pasting  into  authorized_keys  file\".  Can  you  guess  what  that's  for?\n\nSo  grab  that  text  in  your  clipboard,  fire  up  ssh  and  connect  to  server.remote  as  the  user  you  want  to  log  in  as.\nThen\n\nrun  echo  \"YOURKEYHERE\"  ~/.ssh/authorized_keys\n\nNow  we  need  to  configure  PuTTy.  So  open  PuTTy  and  either  load  a  profile  or  start  a  new  one.  First  we  scroll  down  in  the  tree  view  to  Connection  &gt;  Data  and  put  in  the  username  we  want  to  connect  as…\n\n\n\nThen  you  move  to  Connection  &gt;  SSH  &gt;  Auth  and  enter  the  private  key  file  that  puttygen  created…\n\n\n\nNow  save  this  profile  so  you  can  fire  up  the  connection  in  future  and  away  you  go…\n\nNow  my  git  push  doesn't  bother  me  for  a  password.\n\nThere  are  security  concerns  with  passwordlessness  so  be  mindful!\n"
  }
</script>

<article>
<header class="flex flex-col border-b-black border-b-2 bg-white text-black">
  <div class="heading">
    <div class="date">Mon Apr 11 2011</div>
    <h1 class="title leading-10 pt-2 mb-0 mt-1">SSH without password</h1>
  </div>
  <div class="meta flex-grow flex flex-row">
    <div class="share-this flex self-end space-x-2">
      <a
        id="facebook-share-link"
        class="social-share"
        target="_blank"
        rel="noopener"
        href="https://www.facebook.com/dialog/share?app_id=305449093152216&href=https://pauldambra.dev/2011/04/ssh-without-password.html"
      >
        <img
          class="w-8"
          src="/images/facebook-black-32.png"
          alt="share on facebook"
          width="32"
          height="32"
        />
      </a>
      <a
        id="twitter-share-link"
        class="social-share"
        target="_blank"
        rel="noopener"
        href="https://twitter.com/intent/tweet?text=SSH+without+password&via=pauldambra&url=https://pauldambra.dev/2011/04/ssh-without-password.html"
      >
        <img
          class="w-8"
          src="/images/twitter-black-32.png"
          alt="share on twitter"
          width="32"
          height="32"
        />
      </a>
    </div>
    <div class="more-like-this text-right content-end flex-grow">
      <a
        class="post-metadata"
        href="/categories.html#ssh"
      >
        in: ssh
      </a>
      <div>
<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#linux">
    linux
  </a>
</span>

<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#windows">
    windows
  </a>
</span>

<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#git">
    git
  </a>
</span>

<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#ssh">
    ssh
  </a>
</span>

<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#learning">
    learning
  </a>
</span>

</div>
    </div>
  </div>
</header>

	<div class="post">
		<!--alex ignore easy-->

<p>I've resolved to learn more about linux and have been slowly boggling at how easy I find some tasks are in comparison to the MS world…</p>

<p>Recently I've been working on what was intended to be a small and straight-forward website that has rapidly grown to be a large behemoth that will take credit card payments.</p>

<!--more-->

<p>So I need revision control.</p>

<p>Also, the site uses Drupal and Drupal use GIT for revision control. We're building a custom module and we'd like to contribute it back once it is done so we may as well use GIT now to make life easier.</p>

<p>Pretty exciting I can commit my changes and they are automatically pushed over to my test server on commit and then if I like them I can push them to my live server. Both pushes are by SSH and both times I have to type in a different, long, complex password.</p>

<p>Frustrating and inefficient for a god of business whose time is so important - no…</p>

<p>But the interwebs tell me that you can set up SSH so you don't need a password. They also tell me in a vaguely confusing manner… my resolve now is to add another vaguely confusing explanation to the interwebs.</p>

<p><img src="http://1.bp.blogspot.com/-ogY-p6dRbUs/TaLFdgeiXlI/AAAAAAAAANY/zIbVsfwaGzQ/s1600/floor_one.png" alt="confusing explanation" loading="lazy" /></p>

<p>The task is to set my client.local machine to be able to SSH onto server.remote without any passwords changing hands.</p>

<p>This was relatively straight forward on my Mac and on my ubuntu box but my main dev machine is Windows 7…</p>

<p><em>As an aside switching from Mac, to VMWare fusion Windows, to VMWare fusion, to Windows 7 and remoting between them means I *never* know which key is going to be @ and which " and the windows machines get reset to US keyboard every so often by the Macs which throws a spanner in the works.</em></p>

<p>On a linux or unix machine this turned out to be pretty straight forward</p>

<ol>
  <li>Login to client.local</li>
  <li>run <code class="language-plaintext highlighter-rouge">ssh-keygen -t rsa</code></li>
  <li>alter the path offered to rename the file sensibly in my case <code class="language-plaintext highlighter-rouge">~/.ssh/rsa_server.remote</code></li>
  <li><code class="language-plaintext highlighter-rouge">ssh-copy-id -i ~/.ssh/rsa_server.remote.pub '-p 8901 dinglehopper@server.remote'</code>
    <ul>
      <li>here note that I had to surround with single quotes the -p etc section of the command in order to use a non standard port</li>
    </ul>
  </li>
  <li>
    <p>still on client.local edit <code class="language-plaintext highlighter-rouge">~/.ssh/config</code> to add
<!--alex ignore host-hostess--></p>

    <blockquote>
      <p>Host server.remote
IdentityFile ~/.ssh/rsa_server.remote</p>
    </blockquote>
  </li>
  <li>type <code class="language-plaintext highlighter-rouge">ssh dinglehopper@server.remote -p 8901</code> and watch in awe and wonder
<!--alex ignore remain-->
Things aren't quite so straightforward on Windows but the basic steps remain.</li>
</ol>

<p>On Windows I use the excellent PuTTy to enable all things SSHy and I'm going to behave as if you do to…</p>

<p>First things first ssh onto server.remote as the user you want to use in future eg dinglehopper@server.remote and:</p>

<p>on your Windows clinet.local fire up puttygen.exe and hit generate. As a bit of fun you are asked to wiggle your mouse in order to provide randomness (I wonder if this is placebo)</p>

<p><img src="http://4.bp.blogspot.com/-XCmyhromqcY/TaL4vMTP3uI/AAAAAAAAAOo/pcakvSyDlIU/s1600/generating.png" alt="putty key generator" loading="lazy" /></p>

<p>Once this is generated you'll see a box marked "Public key for pasting into authorized_keys file". Can you guess what that's for?</p>

<p>So grab that text in your clipboard, fire up ssh and connect to server.remote as the user you want to log in as.
Then</p>

<p><code class="language-plaintext highlighter-rouge">run echo "YOURKEYHERE" ~/.ssh/authorized_keys</code></p>

<p>Now we need to configure PuTTy. So open PuTTy and either load a profile or start a new one. First we scroll down in the tree view to Connection &gt; Data and put in the username we want to connect as…</p>

<p><img src="http://1.bp.blogspot.com/-oYtOIQEPgV0/TaL3d9ld-dI/AAAAAAAAAOY/lt6Ugaf9E0A/s1600/auto-username.png" alt="putty config" loading="lazy" /></p>

<p>Then you move to Connection &gt; SSH &gt; Auth and enter the private key file that puttygen created…</p>

<p><img src="http://2.bp.blogspot.com/-mGRlfc_0eTc/TaL3rW1MmOI/AAAAAAAAAOg/yXxVcK29u1s/s1600/identity-file.png" alt="putty config" loading="lazy" /></p>

<p>Now save this profile so you can fire up the connection in future and away you go…</p>

<p>Now my git push doesn't bother me for a password.</p>

<p>There are security concerns with passwordlessness so be mindful!</p>

	</div>
	<div class="mt-8">
  
  <h1>More like this...</h1>
   
  <div class="grid grid-cols-3 gap-4"></div> 
  
</div>

</article>
    </main>
    <footer class="w-full h-4 bg-black text-white py-8 px-4">
  <a class="no-underline text-white" href="https://pauldambra.dev/feed.xml">
    <img class="inline w-6 h-6" src="/images/rss.svg" alt="the rss feed" />
    <span>Subscribe to RSS feed</span>
  </a>
</footer>
 
    <script>
      var tsl = document.getElementById("twitter-share-link");
      tsl.addEventListener("click", function () {
        ga("send", {
          hitType: "social",
          socialNetwork: "twitter",
          socialAction: "tweet",
          socialTarget: "https://pauldambra.dev/2011/04/ssh-without-password.html",
        });
      });

      var fsl = document.getElementById("facebook-share-link");
      fsl.addEventListener("click", function () {
        ga("send", {
          hitType: "social",
          socialNetwork: "facebook",
          socialAction: "share",
          socialTarget: "https://pauldambra.dev/2011/04/ssh-without-password.html",
        });
      });
    </script>
    

    <script defer src="/register-service-worker.js"></script>

    <link
      href="https://fonts.googleapis.com/css?family=Khula&display=swap"
      rel="stylesheet"
    />
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/images/icons/icon-152x152.png" />
    <!-- theme-color defines the top bar color-->
    <meta name="theme-color" content="#575757" />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'report-sample' 'self' https://app.posthog.com/static/array.js https://www.googletagmanager.com/gtag/js; style-src 'report-sample' 'self' https://fonts.googleapis.com; object-src 'none'; base-uri 'self'; connect-src 'self' https://app.posthog.com; font-src 'self'; frame-src 'self'; img-src 'self'; manifest-src 'self'; media-src 'self'; report-uri https://pauldambra.report-uri.com/r/d/csp/enforce; worker-src 'self';"
    />
    <!-- Add to home screen for Safari on iOS-->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="MiRaNo" />
    <link rel="apple-touch-icon" href="/images/icons/icon-152x152.png" />

    <!-- Add to home screen for Windows-->
    <meta
      name="msapplication-TileImage"
      content="/images/icons/icon-152x152.png"
    />
    <meta name="msapplication-TileColor" content="#575757" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Big Pile of Soil</title>
    <link rel="canonical" href="https://pauldambra.dev/2017/05/big-pile-of-soil.html" />
    <meta property="og:url" content="https://pauldambra.dev/2017/05/big-pile-of-soil.html" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Big Pile of Soil" />
    <meta
      property="og:description"
      content="A big pile of mud is a clear sign of dirt"
    />
    <meta
      property="og:image"
      content="https://pauldambra.dev/images/cardboard.jpg"
    />
    <meta name="twitter:creator" content="@pauldambra" />
    <meta property="fb:app_id" content="1029758320473951" />

    <meta name="viewport" content="width=device-width" />
    <meta
      name="description"
      content="A big pile of mud is a clear sign of dirt"
    />
    <meta property="fb:pages" content="1029758320473951" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Mindless Rambling Nonsense"
      href="https://pauldambra.dev/feed.xml"
    />
    <link rel="shortcut icon" href="/favicon.ico" />

    <link rel="prefetch" href="/images/cardboard.jpg" />

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/syntax.css">
    <meta name="msvalidate.01" content="54691C3C7B863CEE60F0305D6EDFF7A8" />
    <meta
      name="google-site-verification"
      content="hLKEdujpXNQ9PSZWEcQkwxCgL2z1tWxVedeaUmttH7c"
    />
    <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Ce Ls Ns Te As js capture Xe calculateEventProperties qs register register_once register_for_session unregister unregister_for_session Gs getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Hs Us createPersonProfile Ws Os Js opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing zs debug L Bs getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_pDm161Kiiwh2GfpX1ELnmaMafhvp2EIDYFlWo8f12PK', {
        api_host: 'https://ph.pauldambra.dev',
        ui_host: 'https://ph.pauldambra.dev',
        defaults: '2025-05-24',
        person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
    })
</script>

  </head>
  <body class="flex flex-col h-screen">
    <header class="flex flex-col px-8 pt-4 text-white text-xl" role="banner">
  <div class="flex flex-col sm:flex-row">
    <div class="no-underline hover:underline">
      <a href="/">Mindless Rambling Nonsense</a>
    </div>
    <div class="flex-grow my-2 sm:m-0"></div>
    <div class="flex justify-start items-end flex-col text-sm">
      <div class="flex items-center">
        <div class="mr-4">Paul D'Ambra</div>
        <a href="https://github.com/pauldambra" rel="noopener">
          <img
            src="/images/GitHub-Mark-Light-32px.png"
            alt="pauldambra on github"
            width="32"
            height="32"
          />
        </a>
      </div>
      <div class="flex items-center">
        <div class="mr-4">Fangler</div>
        <a href="https://twitter.com/pauldambra" rel="noopener">
          <img
            src="/images/twitter-32.png"
            alt="pauldambra on twitter"
            width="32"
            height="32"
          />
        </a>
      </div>
      <div class="flex items-center">
        <div class="mr-4"></div>
        <a rel="me" href="https://mastodon.me.uk/@pauldambra">
        </a>
      </div>
    </div>
  </div>
  <div class="flex-grow"></div>
  <div
    class="flex align-middle items-start px-2 py-4 text-white space-x-4 text-lg"
  >
    <nav role="navigation">
      <a class="underline" href="/">Blog Posts</a>
      <a class="underline ml-5" href="/weeknotes.html">Week Notes</a>
      <a class="underline ml-5" href="/kids-games.html">Kids games</a>
    </nav>
  </div>
</header>

    <main role="main" class="bg-white p-4 w-11/12 m-auto flex-auto flex-grow">
      

<script type="application/ld+json">
  {
     "@context":"http://schema.org",
     "@type":"BlogPosting",
     "headline":"Big Pile of Soil",
     "genre":"",
     "keywords":"",
     "wordCount":"561",
     "url":"https://pauldambra.dev/2017/05/big-pile-of-soil.html",
     "datePublished":"2017-05-14",
     "author":{
        "@type":"Person",
        "name":"Paul D'Ambra",
        "sameAs":[
          "https://twitter.com/pauldambra",
          "https://github.com/pauldambra",
          "https://plus.google.com/u/0/+PaulDAmbraPlus"
        ]
     },
     "publisher":{
  "@type": "Organization",
      "name": "Paul D'Ambra",
      "sameAs": [
          "https://twitter.com/pauldambra",
          "https://github.com/pauldambra",
          "https://plus.google.com/u/0/+PaulDAmbraPlus"
      ],
      "logo": {
        "@type": "ImageObject",
        "contentUrl": "https://pauldambra.dev/images/logo.png",
          "url": "https://pauldambra.dev"
      }
     },
     "image":{
        "@type":"ImageObject",
        "contentUrl":"https://pauldambra.dev/images/cardboard.jpg",
        "url":"https://pauldambra.dev",
        "height":"450",
        "width":"1000"
     },
     "mainEntityOfPage":{
        "@type":"WebPage",
        "@id":"https://pauldambra.dev/2017/05/big-pile-of-soil.html"
     },
     "articleBody":"During  Kevin  Rutherford's  guided  discussion  on  clean  code  at  Agile  Manchester  2017  we  talked  briefly  about  whether  there  was  a  difference  between  'cleaning  code'  and  'clean  code'.\n\nI  suggested  that  I  might  expect  to  have  to  make  code  dirtier  on  the  road  to  making  it  cleaner.  Being  of  the  opinion  that    sometimes  you  need  to  add  duplication  in  order  to  see  your  way  to  removing  it.\n\nAs  I  am  a  creature  of  bad  habit  I  jumped  immediately  into  tortuous  metaphor.\n\n\n\nBrace  yourselves\n\nIf  I'm  concreting  in  a  post  in  my  garden  there's  a  period  of  time  where  there's  a  big  pile  of  soil.  I  have  to  get  rid  of  that  to  finish  the  job  but  I  can't  do  the  job  without  making  the  pile.\n\nThe  thing  is…\n\n…even  though  it  occurred  to  me  in  the  moment  I  actually  quite  like  this  metaphor.\n\n\n    The  reason  the  mess  is  there  is  understood  by  almost  anyone  that  sees  it\n    The  path  to  clearing  the  mess  is  understood  by  almost  anyone  that  sees  it\n    For  each  additional  uncleared  pile  of  soil  next  to  a  post  it  becomes  more  obviously  important  to  think  about  whether  it's  time  to  start  finishing  the  work  by  almost  anyone  that  sees  it\n\n\nAlso,  this  only  holds  for  a  task  I  can  complete  in  a  day  or  two.  If  we're  laying  a  foundation  then  we  should  probably  know  where  the  soil  is  going  and  clear  it  as  we  go.\n\nIf  you  were  to  go  into  somebody's  garden  and  there  were  tens  of  posts  still  with  a  pile  of  soil  next  to  each.  You'd  be  tempted  to  either  help  them  clear  up  or  sit  them  down  and  ask  them  why  they  hadn't.  Either  way  it  would  be  clear  it  was  wrong  and  unfinished  as  it  was.\n\nCan  you  stretch  the  metaphor  too  far?\n\nEasily  :)  but  I'll  try  not  to.  It  is  common  to  use  physical  engineering,  building,  and  DIY  metaphors  for  software  but  they  often  fall  down  because  the  link  between  one  block  of  code  and  another  is  nowhere  near  as  viscerally  clear  as  the  link  between  a  hole  in  the  ground  and  a  pile  of  soil.\n\nThis  is  where  naming,  patterns,  conventions,  context,  and  physical  position  can  be  used  to  communicate  to  the  future  developer.  And  where  jumping  in  to  version  control  history  can  let  you  see  what  other  files  changed  when  this  file  was  created  or  amended  into  its  present  confusing  state.\n\nBut  what  does  it  look  like?\n\nI  started  writing  up  an  example  and  then  remembered  that  the  best  possible  example  already  exists!\n\nSandi  Metz  covered  this  wonderfully  in  this  talk  from  RailsConf  2014.  It's  a  little  under  40  minutes  and  well  worth  your  time  with  a  worked  and  brilliantly  explained  solution  to  the  Gilded  Rose  kata.\n\nrefactorings  are  small  steps\n\nThe  road  to  clean  code  is  not  paved  with  many-day  blocks  of  work.  Those  aren't  refactorings  they're  only  redesigns  (which  are  fine  but  should  probably  be  infrequent).\n\nThat  means  it  can  be  OK  to  add  something  dirty  on  the  path  to  something  better  because  you  know  how  and  when  it's  going  to  be  cleaned  up.\n\nRemember  to  look  around  the  garden  for  yesterday's  mess  before  you  start  a  new  job\n\n"
  }
</script>

<article>
<header class="flex flex-col border-b-black border-b-2 bg-white text-black">
  <div class="heading">
    <div class="date">Sun May 14 2017</div>
    <h1 class="title leading-10 pt-2 mb-0 mt-1">Big Pile of Soil</h1>
  </div>
  <div class="meta flex-grow flex flex-row">
    <div class="share-this flex self-end space-x-2">
      <a
        id="facebook-share-link"
        class="social-share"
        target="_blank"
        rel="noopener"
        href="https://www.facebook.com/dialog/share?app_id=305449093152216&href=https://pauldambra.dev/2017/05/big-pile-of-soil.html"
      >
        <img
          class="w-8"
          src="/images/facebook-black-32.png"
          alt="share on facebook"
          width="32"
          height="32"
        />
      </a>
      <a
        id="twitter-share-link"
        class="social-share"
        target="_blank"
        rel="noopener"
        href="https://twitter.com/intent/tweet?text=Big+Pile+of+Soil&via=pauldambra&url=https://pauldambra.dev/2017/05/big-pile-of-soil.html"
      >
        <img
          class="w-8"
          src="/images/twitter-black-32.png"
          alt="share on twitter"
          width="32"
          height="32"
        />
      </a>
    </div>
    <div class="more-like-this text-right content-end flex-grow">
      <a
        class="post-metadata"
        href="/categories.html#tortured-metaphors"
      >
        in: Tortured Metaphors
      </a>
      <div>
<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#design">
    design
  </a>
</span>

<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#clean-code">
    clean-code
  </a>
</span>

<span class="text-slate-500">
  <img class="w-6 h-6 inline-block" src="/images/tag.svg" alt="tag-icon" />
  <a class="no-underline hover:underline" href="/tags.html#metaphor">
    metaphor
  </a>
</span>

</div>
    </div>
  </div>
</header>

	<div class="post">
		<p>During <a href="http://agilemanchester.net/2017/sessions/index.php?session=200">Kevin Rutherford's guided discussion on clean code at Agile Manchester 2017</a> we talked briefly about whether there was a difference between 'cleaning code' and 'clean code'.</p>

<p>I suggested that I might expect to have to make code dirtier on the road to making it cleaner. Being of the opinion that  sometimes you need to add duplication in order to see your way to removing it.</p>

<p>As I am a creature of bad habit I jumped immediately into tortuous metaphor.</p>

<!--more-->

<h2 id="brace-yourselves">Brace yourselves</h2>
<!--alex ignore period --->
<h3 id="if-im-concreting-in-a-post-in-my-garden-theres-a-period-of-time-where-theres-a-big-pile-of-soil-i-have-to-get-rid-of-that-to-finish-the-job-but-i-cant-do-the-job-without-making-the-pile">If I'm concreting in a post in my garden there's a period of time where there's a big pile of soil. I have to get rid of that to finish the job but I can't do the job without making the pile.</h3>

<h2 id="the-thing-is">The thing is…</h2>

<p>…even though it occurred to me in the moment I actually quite like this metaphor.
<!--alex ignore obvious ---></p>
<ul>
  <li>The reason the mess is there is understood by almost anyone that sees it</li>
  <li>The path to clearing the mess is understood by almost anyone that sees it</li>
  <li>For each additional uncleared pile of soil next to a post it becomes more obviously important to think about whether it's time to start finishing the work by almost anyone that sees it</li>
</ul>

<p>Also, this only holds for a task I can complete in a day or two. If we're laying a foundation then we should probably know where the soil is going and clear it as we go.</p>

<p>If you were to go into somebody's garden and there were tens of posts still with a pile of soil next to each. You'd be tempted to either help them clear up or sit them down and ask them why they hadn't. Either way it would be clear it was wrong and unfinished as it was.</p>

<h2 id="can-you-stretch-the-metaphor-too-far">Can you stretch the metaphor too far?</h2>
<!--alex ignore hole --->
<p>Easily :) but I'll try not to. It is common to use physical engineering, building, and DIY metaphors for software but they often fall down because the link between one block of code and another is nowhere near as viscerally clear as the link between a hole in the ground and a pile of soil.</p>

<p>This is where naming, patterns, conventions, context, and physical position can be used to communicate to the future developer. And where jumping in to version control history can let you see what other files changed when this file was created or amended into its present confusing state.</p>

<h2 id="but-what-does-it-look-like">But what does it look like?</h2>

<p>I started writing up an example and then remembered that the best possible example already exists!</p>

<p>Sandi Metz covered this wonderfully in <a href="https://www.youtube.com/watch?v=8bZh5LMaSmE">this talk from RailsConf 2014.</a> It's a little under 40 minutes and well worth your time with a worked and brilliantly explained solution to the Gilded Rose kata.</p>

<h2 id="refactorings-are-small-steps">refactorings are small steps</h2>

<p>The road to clean code is not paved with many-day blocks of work. Those aren't refactorings they're only redesigns (which are fine but should probably be infrequent).
<!--alex ignore dirty --->
That means it can be OK to add something dirty on the path to something better because you know how and when it's going to be cleaned up.</p>

<p>Remember to look around the garden for yesterday's mess before you start a new job</p>


	</div>
	<div class="mt-8">
  
  <h1>More like this...</h1>
   
  <div class="grid grid-cols-3 gap-4"></div> 
  
</div>

</article>
    </main>
    <footer class="w-full h-4 bg-black text-white py-8 px-4">
  <a class="no-underline text-white" href="https://pauldambra.dev/feed.xml">
    <img class="inline w-6 h-6" src="/images/rss.svg" alt="the rss feed" />
    <span>Subscribe to RSS feed</span>
  </a>
</footer>
 
    <script>
      var tsl = document.getElementById("twitter-share-link");
      tsl.addEventListener("click", function () {
        ga("send", {
          hitType: "social",
          socialNetwork: "twitter",
          socialAction: "tweet",
          socialTarget: "https://pauldambra.dev/2017/05/big-pile-of-soil.html",
        });
      });

      var fsl = document.getElementById("facebook-share-link");
      fsl.addEventListener("click", function () {
        ga("send", {
          hitType: "social",
          socialNetwork: "facebook",
          socialAction: "share",
          socialTarget: "https://pauldambra.dev/2017/05/big-pile-of-soil.html",
        });
      });
    </script>
    

    <script defer src="/register-service-worker.js"></script>

    <link
      href="https://fonts.googleapis.com/css?family=Khula&display=swap"
      rel="stylesheet"
    />
  </body>
</html>
